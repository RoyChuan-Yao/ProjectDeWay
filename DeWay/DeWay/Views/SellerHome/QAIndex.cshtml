@model IEnumerable<DeWay.Models.QA>

@{
    ViewBag.Title = "QAIndex";
    Layout = "~/Views/Shared/_Layout - seller.cshtml";
}

<h2>我的問答區</h2>

@*@section CSS
        {
        <style>
            .a {
                color: inherit;
                text-decoration: none;
                background-color: transparent;
            }

                .a:hover {
                    color: inherit;
                    text-decoration: none;
                }
        </style>
    }*@


<div class="mb-3">
    <ul class="nav nav-fill nav-bg">
        <li class="nav-item d-active"><a href="@Url.Action("QAIndex","SellerHome",new {code=0})" class="nav-link o-li">全部的問題</a></li>
        <li class="nav-item"><a href="@Url.Action("QAIndex","SellerHome",new {code=1})" class="nav-link o-li">未回覆的問題</a></li>
        <li class="nav-item"><a href="@Url.Action("QAIndex","SellerHome",new {code=2})" class="nav-link o-li">已回覆的問題</a></li>

    </ul>

</div>

<div class="col-12">
    @foreach (var item in Model)
    {

        <a href="@Url.Action("ProductPage","Productpage",new { pdtID=item.pdtID})">
            <div class="card ">
                <div class="card-header row">
                    <div>
                        @Html.DisplayFor(modelItem => item.Product.Seller.selCompany)

                        @Html.DisplayFor(modelItem => item.Product.pdtName)
                    </div>
                    <div class="offset-7">
                        @Html.DisplayFor(modelItem => item.qaTime)
                    </div>
                </div>
                <div class="card-body row">

                    <div class="col-3 mr-3">
                        @if (Model.FirstOrDefault().Product.ProductImage.FirstOrDefault().pdtImage == null || Model.FirstOrDefault().Product.ProductImage.FirstOrDefault().pdtImage == "")
                        {
                            <img src="~/images/0.jpg" style="width:200px" />
                        }
                        else
                        {
                            <img src="~/images/@Model.FirstOrDefault().Product.ProductImage.FirstOrDefault().pdtImage" style="width:200px" />

                        }
                    </div>
                    <div class="col-8 mt-5">

                        @item.Member.nickName 發問：@Html.Raw(@Html.DisplayFor(modelItem => item.Question).ToString().Replace("\n", "<br>"))

                        @if (item.Answer != null && item.Answer != "")
                        {
                            <hr />

                            <p>@Html.DisplayFor(modelItem => item.Product.Seller.selCompany) 回答：@Html.Raw(@Html.DisplayFor(modelItem => item.Answer).ToString().Replace("\n", "<br>"))</p>

                        }
                    </div>

                </div>
            </div>
        </a>


    }
</div>

@section Script
    {
    <script>

        $('.o-li').each(function () {
            if ($($(this))[0].href == String(window.location)) {
                $('ul>li:first-child').removeClass("d-active");
                $('.o-li').removeClass("d-active");
                $(this).addClass('d-active');
            }
        });

        ADD();
        function ADD() {
            if (String(window.location) == $('m-li').href) {
                $('ul>li:first-child').addClass("d-active");
            };
        }
    </script>

}